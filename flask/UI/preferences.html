<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <script language="javascript">
        window.onload = function createchkboxes() {
            var cuisineData = ["American", "Asian", "Barbecue", "Cajun & Creole", "Chinese", "Cuban", "English", "French",
                "German", "Greek", "Hawaiian", "Hungarian", "Indian", "Irish", "Italian", "Japanese", "Kid-Friendly",
                "Mediterranean", "Mexican", "Moroccan", "Portuguese", "Southern & Soul Food", "Southwestern", "Spanish",
                "Swedish", "Thai", "Vietnamese"]
            var allergiesData = ["Cereals containing gluten", "Crustaceans ", "Eggs", "Fish", "Peanuts", "Soy", "Celery",
                "Nuts", "Musturd", "Seasame Seeds", "Sulphur dioxide and sulphites", "Lupin", "Molluscs"]
            for (var j = 0; j < 2; j++) {
                if (j == 1) {
                    createDynamicCheckBox(cuisineData, 'cuisineDiv');
                } else {
                    createDynamicCheckBox(allergiesData,'allergiesDiv');
                }
            }
            function createDynamicCheckBox(data,divId) {
                for (var i = 0; i < data.length; i++) {
                    var label = document.createElement('label');
                    var br = document.createElement('br');
                    var alabel = document.getElementById(divId);
                    var last = alabel[alabel.length - 1];
                    label.htmlFor = "lbl" + i;
                    label.appendChild(Createcheckbox(data[i]));
                    label.appendChild(document.createTextNode(data[i]));
                    label.appendChild(br);
                    document.getElementById(divId).appendChild(label);
                }
            }
        }
        function Createcheckbox(chkboxid) {
            var checkbox = document.createElement('input');
            checkbox.type = "checkbox";
            checkbox.id = chkboxid;
            checkbox.value = chkboxid;
            return checkbox;
        }
        function getValues(cuisineDiv, allergiesDiv) {
            var selectedCuisines=[]
            var selectedAllergians=[]
            for (var j = 0; j < 2; j++) {
                if (j == 1) {
                    getSelectedData(cuisineDiv,selectedCuisines)
                }else{
                    getSelectedData(allergiesDiv,selectedAllergians)
                }
            }
            alert(selectedCuisines.join('\n'));
            alert(selectedAllergians.join('\n'));
        }
            function getSelectedData(divId, vals){
                var boxes = document.getElementById(divId).getElementsByTagName('input');
                for (var i = 0; i < boxes.length; ++i) {
                    if (boxes[i].checked == true) {
                        vals.push(boxes[i].value);
                    }
                }
            }                    
        
    </script>
</head>

<body>
        <h1>Cuisines</h1>
        <input type="button" id="btngetvalues" value="Submit" onclick="getValues('cuisineDiv','allergiesDiv');" />
        <div id='cuisineDiv'></Div>
        <h1>Food Allergies</h1>
        <div id='allergiesDiv'>
        </div>
</body>

</html>